function openMobileNavEvent(e){e.preventDefault();e=document.querySelector(".wd-side-hidden-nav");e.classList.contains("wd-opened")?woodmartThemeModule.closeMobileNavigation():(this.parentNode.classList.add("wd-opened"),woodmartThemeModule.openMobileNavigation(e))}woodmartThemeModule.$document.on("wdCloseMobileMenu wdPjaxStart",function(){woodmartThemeModule.closeMobileNavigation()}),woodmartThemeModule.mobileNavigationClickAction=function(e){e&&e.addEventListener("click",function(e){var o=e.target.closest(".wd-nav");if(o){var t,n,i,d,a=o.classList.contains("wd-layout-dropdown"),l=o.classList.contains("wd-layout-drilldown"),o=o.classList.contains("wd-drilldown-slide"),s=e.target.closest(".wd-nav-mob-tab li"),r=e.target.closest(".menu-item-has-children > a"),c=e.target.closest(".menu-item-has-children > .wd-nav-opener"),u=e.target.closest(".mobile-nav"),m="arrow";if(this.classList.contains("wd-opener-item")&&(m="item"),woodmartThemeModule.$document.trigger("wood-images-loaded"),s){if(e.preventDefault(),s.classList.contains("wd-active"))return;var w=s.dataset.menu,v=null!==u&&u.querySelector(".wd-active");v&&v.classList.remove("wd-active"),s.classList.add("wd-active"),null!==u&&(u.querySelectorAll(".wd-nav-mobile").forEach(function(e){e.classList.remove("wd-active")}),void 0!==w)&&u.querySelectorAll(`.mobile-${w}-menu`).forEach(function(e){e.classList.add("wd-active")})}a?("item"===m&&(r||c)||"arrow"===m&&c)&&(e.preventDefault(),t=("item"===m&&r||c).parentNode,v=(n=Array.from(t.children)).find(function(e){return e.classList.contains("wd-nav-opener")}),s=n.filter(function(e){return"UL"===e.tagName||e.classList.contains("wd-sub-menu")}),t.classList.contains("opener-page")?(t.classList.remove("opener-page"),0!==s.length&&s.forEach(function(e){woodmartThemeModule.slideUp(e,200)}),[".wd-dropdown-menu .container > ul",".wd-dropdown-menu > ul"].forEach(function(e){e=t.querySelectorAll(e);0!==e.length&&e.forEach(function(e){woodmartThemeModule.slideUp(e,200)})}),void 0!==v&&v.classList.remove("wd-active")):(t.classList.add("opener-page"),0!==s.length&&s.forEach(function(e){woodmartThemeModule.slideDown(e,200)}),[".wd-dropdown-menu .container > ul",".wd-dropdown-menu > ul"].forEach(function(e){e=t.querySelectorAll(e);0!==e.length&&e.forEach(function(e){woodmartThemeModule.slideDown(e,200)})}),void 0!==v&&v.classList.add("wd-active"))):l&&(w=e.target.closest(".menu-item-has-children .wd-drilldown-back a"),a=e.target.closest(".menu-item-has-children .wd-drilldown-back .wd-nav-opener"),("item"===m&&(r||c)||"arrow"===m&&c)&&(d=(t=("item"===m&&r||c).parentNode).closest("ul"),void 0!==(i=(n=Array.from(t.children)).find(function(e){return e.classList.contains("wd-sub-menu")||e.classList.contains("sub-sub-menu")})))&&(e.preventDefault(),t.setAttribute("aria-expanded",!0),d.classList.add("wd-drilldown-hide"),d.classList.remove("wd-drilldown-show"),i.classList.add("wd-drilldown-show"),i.setAttribute("aria-expanded",!1),v=(v=(v=(s=i.querySelector(".wd-drilldown-back a")).textContent).replaceAll("\t","")).replaceAll("\n",""),t.classList.contains("item-level-0")?(l=null)!==(l=null!==u?u.querySelector(".wd-nav-mob-tab li.wd-active .nav-link-text"):l)?(m=(m=(m=l.textContent).replaceAll("\t","")).replaceAll("\n",""),!v.includes(m)&&0<m.length&&(s.textContent=woodmart_settings.mobile_navigation_drilldown_back_to.replace("%s",m))):t.classList.contains("cat-item")?s.textContent=woodmart_settings.mobile_navigation_drilldown_back_to_categories:v.includes(woodmart_settings.mobile_navigation_drilldown_back_to_main_menu)||(s.textContent=woodmart_settings.mobile_navigation_drilldown_back_to_main_menu):(r="",r=(null!==(c=d.closest("li").querySelector(".woodmart-nav-link")).querySelector(".nav-link-text")?c.querySelector(".nav-link-text"):null!==c.querySelector("span")?c.querySelector("span"):c).textContent,!v.includes(r)&&0<r.length&&(s.textContent=woodmart_settings.mobile_navigation_drilldown_back_to.replace("%s",r))),o)&&(this.querySelector("ul.wd-active").style.height=i.offsetHeight+"px"),w||a)&&(e.preventDefault(),d=(t=(w||a).closest(".menu-item")).closest("ul"),i=(n=Array.from(t.children)).find(function(e){return e.classList.contains("wd-sub-menu")||e.classList.contains("sub-sub-menu")}),t.setAttribute("aria-expanded",!1),t.classList.contains("item-level-0")||d.classList.add("wd-drilldown-show"),d.classList.remove("wd-drilldown-hide"),i.classList.remove("wd-drilldown-show"),i.setAttribute("aria-expanded",!0),o)&&(t.classList.contains("item-level-0")?this.querySelector("ul.wd-active").style.height="":this.querySelector("ul.wd-active").style.height=d.offsetHeight+"px")}})},woodmartThemeModule.mobileNavigationAddOpeners=function(e){e.forEach(function(e){var o;e.querySelector(":scope > .wd-nav-opener")||e.closest(".widget_nav_mega_menu")||((o=document.createElement("span")).classList.add("wd-nav-opener"),e.appendChild(o))})},woodmartThemeModule.mobileNavigationCloseSideWidgets=function(e){e&&e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),woodmartThemeModule.closeMobileNavigation()})})},woodmartThemeModule.openMobileNavigation=function(e){var o=document.querySelector(".wd-close-side");e&&(e.classList.add("wd-opened"),jQuery(e).trigger("wdOpenSide")),o&&o.classList.add("wd-close-side-opened"),woodmartThemeModule.$document.trigger("wood-images-loaded")},woodmartThemeModule.closeMobileNavigation=function(){var e=document.querySelector(".wd-header-mobile-nav.wd-opened"),o=document.querySelector(".mobile-nav.wd-opened"),t=document.querySelector(".wd-close-side.wd-close-side-opened"),n=document.querySelector(".mobile-nav .searchform input[type=text]");e&&e.classList.remove("wd-opened"),o&&(o.classList.remove("wd-opened"),jQuery(o).trigger("wdCloseSide")),o&&t&&t.classList.remove("wd-close-side-opened"),n&&n.blur()},woodmartThemeModule.mobileNavigation=function(){var e=document.querySelectorAll(".wd-side-hidden-nav .wd-nav-mobile .menu-item-has-children"),o=document.querySelectorAll(".wd-side-hidden-nav"),t=document.querySelector(".wd-close-side"),n=document.querySelectorAll(".mobile-nav .login-side-opener, .mobile-nav .close-side-widget");woodmartThemeModule.mobileNavigationAddOpeners(e),o.forEach(function(e){woodmartThemeModule.mobileNavigationClickAction(e)}),document.querySelectorAll(".wd-header-mobile-nav > a").forEach(function(e){e.addEventListener("click",openMobileNavEvent)}),t&&(t.addEventListener("click",function(e){e.preventDefault(),woodmartThemeModule.closeMobileNavigation()}),t.addEventListener("touchstart",function(e){e.preventDefault(),woodmartThemeModule.closeMobileNavigation()},{passive:!1})),woodmartThemeModule.$document.on("keyup",function(e){27===e.keyCode&&document.querySelector(".wd-side-hidden-nav").classList.contains("wd-opened")&&woodmartThemeModule.closeMobileNavigation()}),woodmartThemeModule.mobileNavigationCloseSideWidgets(n)},window.addEventListener("load",function(){woodmartThemeModule.mobileNavigation()}),window.addEventListener("wdUpdatedHeader",function(){woodmartThemeModule.mobileNavigation()}),window.addEventListener("wdHeaderBuilderCloneCreated",function(){var e=document.querySelector(".whb-clone .wd-header-mobile-nav > a");e&&e.addEventListener("click",openMobileNavEvent)});
;